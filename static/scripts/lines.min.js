!function(){for(var lastTime=0,vendors=["ms","moz","webkit","o"],x=0;x<vendors.length&&!window.requestAnimationFrame;++x)window.requestAnimationFrame=window[vendors[x]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[vendors[x]+"CancelAnimationFrame"]||window[vendors[x]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(callback,element){var currTime=(new Date).getTime(),timeToCall=Math.max(0,16-(currTime-lastTime)),id=window.setTimeout((function(){callback(currTime+timeToCall)}),timeToCall);return lastTime=currTime+timeToCall,id}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(id){clearTimeout(id)})}();var Nodes={density:3,reactionSensitivity:1,points:[],lines:[[],[]],mouse:{x:-1e3,y:-1e3,down:!1},animation:null,canvas:null,context:null,init:function(){this.canvas=document.createElement("canvas"),document.getElementById("header").appendChild(this.canvas),this.context=this.canvas.getContext("2d"),this.context.lineJoin="bevel",this.canvas.width=window.innerWidth,this.canvas.height=500,this.canvas.style.background="#0282CC",this.canvas.addEventListener("mousemove",this.mouseMove,!1),this.canvas.addEventListener("mousedown",this.mouseDown,!1),this.canvas.addEventListener("mouseup",this.mouseUp,!1),this.canvas.addEventListener("mouseout",this.mouseOut,!1),window.onresize=function(){Nodes.canvas.width=window.innerWidth,Nodes.canvas.height=500,Nodes.onWindowResize()},this.preparePoints(),this.draw()},preparePoints:function(){this.points=[],this.lines=[[],[],[],[],[]];for(var i=-10;i<this.canvas.width+10;i+=this.density){var line1={y:176,originalY:176},line2={y:263,originalY:263},line3={y:285,originalY:285},line4={y:305,originalY:305},line5={y:323,originalY:323};line1.x=i,line1.originalX=i,line2.x=i,line2.originalX=i,line3.x=i,line3.originalX=i,line4.x=i,line4.originalX=i,line5.x=i,line5.originalX=i,this.points.push(line1),this.points.push(line2),this.points.push(line3),this.points.push(line4),this.points.push(line5),this.lines[0].push(line1),this.lines[1].push(line2),this.lines[2].push(line3),this.lines[3].push(line4),this.lines[4].push(line5)}},updatePoints:function(){var i,currentPoint,theta,distance;for(i=0;i<this.points.length;i++)currentPoint=this.points[i],theta=Math.atan2(currentPoint.y-this.mouse.y,currentPoint.x-this.mouse.x),distance=this.mouse.down?300*this.reactionSensitivity/Math.sqrt((this.mouse.x-currentPoint.x)*(this.mouse.x-currentPoint.x)+(this.mouse.y-currentPoint.y)*(this.mouse.y-currentPoint.y)):150*this.reactionSensitivity/Math.sqrt((this.mouse.x-currentPoint.x)*(this.mouse.x-currentPoint.x)+(this.mouse.y-currentPoint.y)*(this.mouse.y-currentPoint.y)),currentPoint.x+=Math.cos(theta)*distance+.07*(currentPoint.originalX-currentPoint.x),currentPoint.y+=Math.sin(theta)*distance+.07*(currentPoint.originalY-currentPoint.y)},drawPoints:function(){for(var i=0;i<this.lines.length;i++){var line=this.lines[i];this.context.beginPath(),this.context.lineJoin="round",this.context.moveTo(line[0].x,line[0].y),this.context.strokeStyle="#FFF",this.context.lineWidth=1;for(var j=1;j<line.length-2;j++){var point=line[j],xc=(point.x+line[j+1].x)/2,yc=(point.y+line[j+1].y)/2;this.context.quadraticCurveTo(point.x,point.y,xc,yc)}this.context.stroke(),this.context.closePath()}},draw:function(){this.animation=requestAnimationFrame((function(){Nodes.draw()})),this.clear(),this.updatePoints(),this.drawPoints()},clear:function(){this.canvas.width=this.canvas.width},mouseDown:function(event){Nodes.mouse.down=!0},mouseUp:function(event){Nodes.mouse.down=!1},mouseMove:function(event){Nodes.mouse.x=event.pageX,Nodes.mouse.y=event.pageY},mouseOut:function(event){Nodes.mouse.x=-1e3,Nodes.mouse.y=-1e3,Nodes.mouse.down=!1},onWindowResize:function(){cancelAnimationFrame(this.animation),this.preparePoints(),this.draw()}};Nodes.init();